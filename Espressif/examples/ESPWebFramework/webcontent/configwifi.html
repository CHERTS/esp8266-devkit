{%base.html%}

{%title%}
WiFi Configuration

{%content%}


<script type="text/javascript">
  function enableFields() {
    document.getElementById('clientmode_fields').disabled = !document.getElementById("ch_clientmode").checked;
    document.getElementById('apmode_fields').disabled = !document.getElementById("ch_apmode").checked;
  }

  window.onload = enableFields;
</script>


<form method='POST'>

  <p><h3>WiFi Mode</h3></p>
  <div id="subcontent">			
	<input id="ch_clientmode" type='checkbox' name='clientmode' value='1' {{clientmode}} onclick="enableFields()"> Client Mode <br>
	<input id="ch_apmode" type='checkbox' name='apmode' value='1' {{apmode}} onclick="enableFields()"> Access Point Mode <br>
  </div>

  <fieldset id="clientmode_fields">
    <p><h3>Client Mode WiFi Configuration</h3></p>
    <div id="subcontent">			
  	  SSID: <input type='text' name='CLSSID' value='{{CLSSID}}'> <a href="wifiscan" class='spaced'>Scan</a> <br>
	  Password: <input type='text' name='CLPSW' value='{{CLPSW}}'> <br>
    </div>
  </fieldset>
  
  <fieldset id="apmode_fields">
    <p><h3>Access Point Mode WiFi Configuration</h3></p>
    <div id="subcontent">			
  	  SSID: <input type='text' name='APSSID' value='{{APSSID}}'> <br>
	  Password: <input type='text' name='APPSW' value='{{APPSW}}'> (minimum length 8 characters)<br>
	  Channel: 
		<select name="APCH">
		  <option value="1" {{APCH1}}>1</option>
		  <option value="2" {{APCH2}}>2</option>
		  <option value="3" {{APCH3}}>3</option>
		  <option value="4" {{APCH4}}>4</option>
		  <option value="5" {{APCH5}}>5</option>
		  <option value="6" {{APCH6}}>6</option>
		  <option value="7" {{APCH7}}>7</option>
		  <option value="8" {{APCH8}}>8</option>
		  <option value="9" {{APCH9}}>9</option>
		  <option value="10" {{APCH10}}>10</option>
		  <option value="11" {{APCH11}}>11</option>
		  <option value="12" {{APCH12}}>12</option>
		  <option value="13" {{APCH13}}>13</option>
		</select>
		<br>
	  Security protocol:
		<select name="APSEC">
		  <option value="0" {{APSEC0}}>Open</option>
		  <option value="1" {{APSEC1}}>WEP</option>
		  <option value="2" {{APSEC2}}>WPA PSK</option>
		  <option value="3" {{APSEC3}}>WPA2 PSK</option>
		  <option value="4" {{APSEC4}}>WPA_WPA2_PSK</option>
		</select>
		<br>
	  Hidden SSID: <input type='checkbox' name='APHSSID' value='1' {{APHSSID}}> <br>
    </div>
  </fieldset>
  
  <input type='submit' value='Save'>
  
  <br><br><p>System needs to be rebooted for the changes to take effect</p>
</form>
